<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Générer un rapport d’analyses • firstlibAlex</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="Genere_un_rapport_d_analyses_files/libs/quarto-html/popper.min.js"></script><script src="Genere_un_rapport_d_analyses_files/libs/quarto-html/tippy.umd.min.js"></script><link href="Genere_un_rapport_d_analyses_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Genere_un_rapport_d_analyses_files/libs/quarto-html/light-border.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Générer un rapport d’analyses">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">firstlibAlex</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Genere_un_rapport_d_analyses.html">Générer un rapport d'analyses</a></li>
    <li><a class="dropdown-item" href="../articles/generer_rapport_analyses.html">generer_rapport_analyses</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/aletorell/firstlibAlex/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Générer un rapport d’analyses</h1>

      <p class="author">Àlex Chafes Martorell</p>
      <p class="date">2025-02-14</p>

      <small class="dont-index">Source: <a href="https://github.com/aletorell/firstlibAlex/blob/HEAD/vignettes/Genere_un_rapport_d_analyses.qmd" class="external-link"><code>vignettes/Genere_un_rapport_d_analyses.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aletorell/firstlibAlex" class="external-link">firstlibAlex</a></span><span class="op">)</span></span></code></pre></div>
</div>
<section class="section level2"><h2 id="générer-un-rapport-danalyses">Générer un rapport d’analyses<a class="anchor" aria-label="anchor" href="#g%C3%A9n%C3%A9rer-un-rapport-danalyses"></a>
</h2>
<p>Ce document explique comment utiliser les principales fonctions du package. “firstlibAlex”</p>
</section><section class="section level2"><h2 id="résumé-des-données-par-commune">1️⃣ Résumé des données par commune<a class="anchor" aria-label="anchor" href="#r%C3%A9sum%C3%A9-des-donn%C3%A9es-par-commune"></a>
</h2>
<p>La fonction summary_commune() génère les résultats suivants pour une commune donnée :</p>
<p>- Le nom de la commune.</p>
<p>- Le nombre d’élus dans la commune.</p>
<p>- La distribution des âges des élus dans la commune.</p>
<p>- Le nom, le prénom et l’âge de l’élu.e le plus âgé(e).</p>
<p>La fonction vérifie également que toutes les colonnes nécessaires sont présentes et que les dates de naissance sont au format correct. En cas d’erreur, elle génère un message d’arrêt.</p>
<p>EXEMPLE:</p>
<p>Premièrement, nous procédons à créer le dataframe de la commune que nous souhaitons évaluer., dans ce cas nous allos récollecter les données pour Lyon.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aletorell/firstlibAlex" class="external-link">firstlibAlex</a></span><span class="op">)</span></span>
<span><span class="va">Lyon</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/creer_commune.html">creer_commune</a></span><span class="op">(</span><span class="va">elus_cm</span>, <span class="st">"Lyon"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Une fois la base de données est chargée, on passe à l’analyse de la commune de Lyon à partir de la fonction summary_commune.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aletorell/firstlibAlex" class="external-link">firstlibAlex</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/summary_commune.html">summary_commune</a></span><span class="op">(</span><span class="va">Lyon</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Commune: Lyon
Nombre d'élu.e.s: 73
Distribution des âges:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
  30.00   42.00   47.00   49.41   59.00   75.00
L'élu.e le plus âgé(e):
       Nom.de.l.élu Prénom.de.l.élu Age
362811        BLANC       Françoise  75</code></pre>
</div>
</div>
</section><section class="section level2"><h2 id="résumé-des-données-par-département">2️⃣ Résumé des données par département<a class="anchor" aria-label="anchor" href="#r%C3%A9sum%C3%A9-des-donn%C3%A9es-par-d%C3%A9partement"></a>
</h2>
<p>La fonction Summary_departement() génère un résumé statistique des élus d’un département, y compris les informations sur les âges (distribution de l’âge), les élus les plus âgés et les plus jeunes, ainsi que les communes ayant les moyennes d’âge les plus faibles et les plus élevées.</p>
<p>La fonction vérifie également que toutes les colonnes nécessaires sont présentes et que les dates de naissance sont au format correct. En cas d’erreur, elle génère un message d’arrêt.</p>
<p>EXEMPLE:</p>
<p>Premièrement, nous procédons à créer le dataframe du département que nous souhaitons évaluer., dans ce cas nous allos récollecter les données pour Gironde.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aletorell/firstlibAlex" class="external-link">firstlibAlex</a></span><span class="op">)</span></span>
<span><span class="va">Gironde</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/creer_departement.html">creer_departement</a></span><span class="op">(</span><span class="va">elus_cm</span>, <span class="st">"Gironde"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Une fois la base de données est chargée, on passe à l’analyse du département Gironde à partir de la fonction Summary_departement</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/aletorell/firstlibAlex" class="external-link">firstlibAlex</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/Summary_departement.html">Summary_departement</a></span><span class="op">(</span><span class="va">Gironde</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Nom du département: Gironde
Nombre de communes: 537
Nombre d'élu.e.s: 8607
Distribution des âges des élu.e.s:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   24.0    48.0    57.0    57.7    68.0    92.0

L'élu.e le/la plus âgé(e): LANDRAU Cécile - Age: 92 - Commune: Gardegan-Et-Tourtirac

L'élu.e le/la plus jeune: BORTOLATO DELANNOY GIRAUD ROULEAU HUGUET MUNOZ LACROIX LOUSTALOT AUBENEAU BERTÉ Enzo Mathilde Jade Baptiste Mathis Iana Thiméo Gaëtan Cloé Nicolas - Age: 24 24 24 24 24 24 24 24 24 24 - Commune: Ambès Biganos Blanquefort Branne Créon Etauliers Montignac La Réole Saint-Christoly-Médoc Saint-Loubès

Commune avec la moyenne d'âge la plus faible: Balizac
Distribution des âges des élu.e.s de cette commune:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
  32.00   39.75   42.00   44.33   46.00   65.00

Commune avec la moyenne d'âge la plus élevée: Saint-Martin-De-Lerm
Distribution des âges des élu.e.s de cette commune:
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.
   48.0    60.5    72.0    69.5    80.0    83.0 </code></pre>
</div>
</div>
</section><section class="section level2"><h2 id="générer-un-rapport-complet">3️⃣ Générer un rapport complet<a class="anchor" aria-label="anchor" href="#g%C3%A9n%C3%A9rer-un-rapport-complet"></a>
</h2>
<p>la fonction generer_rapport génère un rapport en utilisant un fichier Quarto (.qmd) pour analyser les caractéristiques des élus lors des élections françaises de 2024, en se basant sur les paramètres ‘code_commune’ et ‘code_departement’. Le rapport sera rendu dans le fichier spécifié par l’utilisateur ou choisi via une boîte de dialogue si le chemin de sortie n’est pas précisé.</p>
<p>EXEMPLE</p>
<p>Nous procédons à créer un rapport de la commune 1002 et le département 44:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/generer_rapport.html">generer_rapport</a></span><span class="op">(</span><span class="fl">1002</span>, <span class="fl">44</span>, output <span class="op">=</span> <span class="st">"C:/Users/aalex/OneDrive/Escritorio/unicornio/rapport.html"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Dans le dossier “unicornio” le rapport sera créé sous le nom “rapport.html”</p>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Àlex Chafes Martorell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
